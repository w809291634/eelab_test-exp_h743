/*********************************************************************************************
* 头文件
*********************************************************************************************/
#include "extend.h"
#include "delay.h"
#include "ADC.h"

/*********************************************************************************************
* 全局变量
*********************************************************************************************/
uint32_t ADCvalue = 0;                                          //ADC真实值
float value=0;                                                  //转换后的值

/*********************************************************************************************
* 名称：hardware_init()
* 功能：硬件初始化
* 参数：无
* 返回：无
* 修改：
*********************************************************************************************/
static void hardware_init(void)
{
  sys_cache_enable();                                           //打开L1-Cache 强制D-Cache透写*/
  HAL_Init();                                                   //初始化HAL库 */
  SystemClock_Config();                                         //设置时钟, 400Mhz */
  PeriphCommonClock_Config();                                   //外设特殊时钟初始化
  AdcInit();                                                    //ADC配置初始化
}

/*********************************************************************************************
* 名称：main()
* 功能：主函数
* 参数：无
* 返回：无
* 修改：
*********************************************************************************************/
int main(void)
{
  hardware_init();
  while(1){
    ADCvalue=AdcGet(ADC_CHANNEL_1);                             //adc值获取
    value =(ADCvalue*(12.0f/65535));                            //标准电压转化
    delay_count(1000);                                          //延时
  }
}  
